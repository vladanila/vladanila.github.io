<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="pragma" content="no-cache" />
  <meta http-equiv="expires" content="0" />
  <title>Imagist by Geetartha</title>

  <!-- Favicon -->
  <link rel="icon" href="images-favicon/favicon-32x32.png" type="image/png" />

  <!-- Main Stylesheet -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Google Fonts: Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

  <!-- Animate.css for additional animations -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

  <!-- Cropper.js CSS (for crop mode) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" />

  <!-- New Stylesheet -->
  <link rel="stylesheet" href="new-styles.css">
</head>
<body class="light-mode">
  <!-- Hamburger Menu Icon -->
  <div id="menu-icon" onclick="toggleMenu()">
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
  </div>

  <!-- Sidebar Menu -->
  <div id="sidebar-menu" class="sidebar">
    <!-- Home Button -->
    <div id="home-button" onclick="goHome()">
      <svg xmlns="http://www.w3.org/2000/svg" class="home-icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
      </svg>
    </div>
    <button onclick="switchToCropMode()">Crop Image</button>
    <button onclick="switchToFilterMode()">Filter Effects</button>
    <button onclick="switchToConvertMode()">Convert Image</button>
    <button onclick="switchToWatermarkMode()">Watermark</button>
    <button onclick="switchToCollageMode()">Make Collage</button>
    <button onclick="switchToBorderMode()">Add Border</button>
    <div id="project-credit">
      A project by <strong>Geetartha</strong>
      <div id="social-media">
        <a href="https://www.instagram.com/geetartha.sarma/" target="_blank" title="Instagram">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="social-icon instagram" viewBox="0 0 24 24">
            <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
            <path d="M16 11.37a4 4 0 1 1-4.73-4.73 4 4 0 0 1 4.73 4.73z"></path>
            <circle cx="17.5" cy="6.5" r="1.5"></circle>
          </svg>
        </a>
        <a href="https://x.com/geetartha373" target="_blank" title="Twitter">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="social-icon twitter" viewBox="0 0 24 24">
            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53A4.48 4.48 0 0 0 22.43 1a9.09 9.09 0 0 1-2.88 1.1A4.51 4.51 0 0 0 16.11 0a4.51 4.51 0 0 0-4.48 5.53 12.85 12.85 0 0 1-9.29-4.7 4.51 4.51 0 0 0 1.39 6.02A4.5 4.5 0 0 1 .96 7.71v.05a4.51 4.51 0 0 0 3.62 4.42A4.53 4.53 0 0 1 3 12.04a4.51 4.51 0 0 0 4.22 3.12A9.04 9.04 0 0 1 .87 17.57a12.79 12.79 0 0 0 6.92 2.03c8.3 0 12.85-6.87 12.85-12.85v-.59A9.22 9.22 0 0 0 23 3z"/>
          </svg>
        </a>
        <a href="https://github.com/vladanila/vladanila.github.io" target="_blank" title="GitHub">
          <svg role="img" viewBox="0 0 24 24" fill="currentColor" class="social-icon github" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <title>GitHub</title>
            <path d="M12 .297a12 12 0 00-3.79 23.398c.6.113.82-.258.82-.577v-2.234c-3.338.724-4.042-1.416-4.042-1.416-.546-1.387-1.333-1.757-1.333-1.757-1.09-.745.083-.73.083-.73 1.205.085 1.84 1.236 1.84 1.236 1.07 1.835 2.807 1.305 3.492.998.108-.775.418-1.305.762-1.605-2.665-.304-5.466-1.335-5.466-5.93 0-1.31.47-2.38 1.235-3.22-.123-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.3 1.23a11.52 11.52 0 013.003-.404c1.02.005 2.045.138 3.003.404 2.29-1.553 3.297-1.23 3.297-1.23.653 1.653.241 2.874.12 3.176.77.84 1.233 1.91 1.233 3.22 0 4.61-2.803 5.624-5.475 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.218.694.825.576A12.001 12.001 0 0012 .297z"/>
          </svg>
        </a>
      </div>
    </div>
  </div>

  <!-- Welcome Heading with Gradient on "Imagist" -->
  <h1 id="welcome-heading" class="animate__animated animate__fadeInDown">
    Welcome to <span class="underline">Imagist</span>
  </h1>

  <!-- Feature Container -->
  <div id="feature-container">
    <div class="feature-box animate__animated animate__fadeInUp">
      <!-- Dynamic Text -->
      <div id="modern-text">Resize your images here.</div>
      
      <!-- UPLOAD SECTION for all modes (hidden in Collage mode) -->
      <div id="image-container">
        <label for="upload" class="upload-btn">Upload Image</label>
        <input type="file" id="upload" accept="image/*" hidden />
        <span id="file-name" class="file-name"></span>
      </div>
      
      <!-- Drag and Drop Zone -->
      <div id="drag-drop-zone" class="drag-drop-zone">
        Drag & Drop Images Here
      </div>

      <!-- CONVERSION SECTION -->
      <div id="conversion-section" style="display:none; margin-top:20px;">
        <div id="conversion-options" class="convert-controls">
          <button onclick="convertTo('jpeg')">.jpg</button>
          <button onclick="convertTo('png')">.png</button>
          <button onclick="convertTo('webp')">.webp</button>
          <div id="more-convert-options" class="more-convert-options" style="display:none;">
            <button onclick="convertTo('gif')">.gif</button>
            <button onclick="convertTo('bmp')">.bmp</button>
            <button onclick="convertTo('ico')">.ico</button>
          </div>
          <button onclick="toggleMoreOptions()">More</button>
        </div>
      </div>
      
      <!-- FILTER SECTION with Slider and Percentage Display -->
      <div id="filter-section" style="display:none; margin-top:20px;">
        <div id="filter-options" class="filter-controls">
          <button onclick="selectFilterType('none')">None</button>
          <button onclick="selectFilterType('grayscale')">Grayscale</button>
          <button onclick="selectFilterType('sepia')">Sepia</button>
          <button onclick="selectFilterType('invert')">Invert</button>
          <button onclick="selectFilterType('blur')">Blur</button>
          <button onclick="selectFilterType('brightness')">Brightness</button>
          <button onclick="selectFilterType('contrast')">Contrast</button>
        </div>
        <div id="filter-slider-container" style="margin-top:10px; display:none;">
          <input type="range" id="filter-slider" min="0" max="100" value="100" />
          <span id="filter-percentage">100%</span>
        </div>
      </div>
      
      <!-- WATERMARK SECTION with Size, Opacity Controls and Position Buttons -->
      <div id="watermark-section" style="display:none; margin-top:20px;">
        <!-- The watermark text input now uses a new class to match the button style -->
        <input type="text" id="watermark-text" class="watermark-input" placeholder="Enter watermark text" />
        <button class="action-btn" onclick="applyWatermark()">Apply Watermark</button>
        <div style="margin-top:10px;">
          <label for="watermark-size-slider">Size:</label>
          <input type="range" id="watermark-size-slider" min="10" max="100" value="30" />
          <span id="watermark-size-label">30px</span>
        </div>
        <div style="margin-top:10px;">
          <label for="watermark-opacity-slider">Opacity:</label>
          <input type="range" id="watermark-opacity-slider" min="0" max="100" value="50" />
          <span id="watermark-opacity-label">50%</span>
        </div>
        <div id="watermark-position-controls" style="margin-top:10px;">
          <button class="action-btn" onclick="setWatermarkPosition('bottom-right')">Bottom Right</button>
          <button class="action-btn" onclick="setWatermarkPosition('center')">Center</button>
          <button class="action-btn" onclick="setWatermarkPosition('top-left')">Top Left</button>
          <button class="action-btn" onclick="setWatermarkPosition('top-right')">Top Right</button>
          <button class="action-btn" onclick="setWatermarkPosition('bottom-left')">Bottom Left</button>
        </div>
        <input type="file" id="watermark-image" accept="image/*" hidden />
        <label for="watermark-image" class="upload-btn">Upload Watermark Image</label>
      </div>
      
      <!-- COLLAGE SECTION (hides original upload button) -->
      <div id="collage-section" style="display:none; margin-top:20px;">
        <div class="collage-upload-container">
          <label for="collage-upload-1" class="upload-btn">Upload Image 1</label>
          <input type="file" id="collage-upload-1" accept="image/*" hidden />
          <label for="collage-upload-2" class="upload-btn">Upload Image 2</label>
          <input type="file" id="collage-upload-2" accept="image/*" hidden />
          <label for="collage-upload-3" class="upload-btn">Upload Image 3</label>
          <input type="file" id="collage-upload-3" accept="image/*" hidden />
          <label for="collage-upload-4" class="upload-btn">Upload Image 4</label>
          <input type="file" id="collage-upload-4" accept="image/*" hidden />
        </div>
        <button class="action-btn" onclick="createCollage()">Create Collage</button>
      </div>
      
      <!-- BORDER SECTION with Thickness Slider -->
      <div id="border-section" style="display:none; margin-top:20px;">
        <label for="border-thickness-slider">Thickness:</label>
        <input type="range" id="border-thickness-slider" min="1" max="50" value="5" />
        <span id="border-thickness-label">5px</span>
        <input type="color" id="border-color" value="#000000" style="vertical-align: middle; margin-left:10px;"/>
        <button class="action-btn" onclick="applyBorder()">Apply Border</button>
      </div>
      
      <!-- RESIZE OPTIONS -->
      <div id="resize-options">
        <input type="number" id="width" placeholder="Width (px)" />
        <input type="number" id="height" placeholder="Height (px)" />
        <button id="resize-button" onclick="resizeImage()">Resize</button>
        <div id="tooltip" class="tooltip">Enter desired dimensions in pixels</div>
      </div>

      <!-- Undo/Redo Buttons with Arrow Icons -->
      <div id="undo-redo-controls">
        <button id="undo-action">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
            <path d="M9.91 7.41L8.5 6l-6 6 6 6 1.41-1.41L5.83 12zM20 11H8v2h12v-2z"/>
          </svg>
        </button>
        <button id="redo-action">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
            <path d="M14.09 16.59L15.5 18l6-6-6-6-1.41 1.41L18.17 12zM4 11h12v2H4v-2z"/>
          </svg>
        </button>
      </div>
      
      <!-- Preview & Processing Panel (hidden by default) -->
      <div id="preview-wrapper" class="preview-wrapper" style="display: none;">
        <div id="image-preview-container" class="image-preview-container">
          <img id="preview-image" src="#" alt="Image Preview" />
        </div>
        <!-- Cropper Controls -->
        <div id="cropper-controls" class="cropper-controls" style="display:none;">
          <button onclick="cropperAction('rotate', -45)">Rotate Left</button>
          <button onclick="cropperAction('rotate', 45)">Rotate Right</button>
          <button onclick="cropperAction('zoom', 0.1)">Zoom In</button>
          <button onclick="cropperAction('zoom', -0.1)">Zoom Out</button>
          <button onclick="cropperAction('reset')">Reset</button>
          <button onclick="setAspectRatio(NaN)">Free</button>
          <button onclick="setAspectRatio(1)">1:1</button>
          <button onclick="setAspectRatio(16/9)">16:9</button>
          <button onclick="setAspectRatio(4/3)">4:3</button>
        </div>
      </div>
      
      <!-- Loading Spinner -->
      <div id="loading-spinner" class="loading-spinner" style="display:none;"></div>
      
      <!-- Ready Message -->
      <div id="ready-message" class="ready-message">
        Your photo is ready to be downloaded
      </div>
      
      <!-- Download Button (initially hidden) -->
      <button id="download-button" class="download-btn" onclick="downloadImage()">Download</button>
    </div>
  </div>

  <!-- Dark Mode Toggle Button -->
  <button id="mode-toggle" onclick="toggleMode()">
    <svg id="mode-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M21 12.79A9 9 0 0112.21 3 7.5 7.5 0 0012 21a9 9 0 009-8.21z"/>
    </svg>
  </button>
  
  <!-- GSAP and Cropper Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
  <!-- Main Script -->
  <script src="script.js"></script>
  <!-- New Libraries -->
  <script src="new-libraries.js"></script>
</body>
</html>
